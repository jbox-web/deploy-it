#domain-names{ class: 'settings' }

  .settings-head{ onclick: "showSettings('#settings-domain-names'); return false;" }
    %h4{ class: 'page-header' }= label_with_icon(t('label.domain_name.plural'), 'fa-random', fixed: true)

  #settings-domain-names

    .flash-messages

    = bootstrap_nested_form_for application,
                                url:  domain_names_application_path(application),
                                html: { method: :patch, remote: true } do |f|

      %table{ class: 'table table-hover', id: 'domain_names_list' }
        %thead
          %tr
            %th= t('label.application_domain_name.domain_name')
            %th= t('label.application_domain_name.mode')
            %th

        %tbody
          = f.fields_for :domain_names, wrapper: false do |ff|

            %tr{ class: 'fields' }
              %td{ class: 'vert-align' }= ff.text_field :domain_name, hide_label: true
              %td{ class: 'vert-align' }= ff.collection_select :mode, DomainName::MODES_AVAILABLE, :first, :last, prompt: true, hide_label: true
              %td{ class: 'vert-align' }= ff.link_to_remove icon('fa-trash')

      .form-group
        %div{ class: 'col-sm-12' }
          = button_submit t('button.save')
          %span{ class: 'pull-right' }= f.link_to_add label_with_icon(t('label.application_domain_name.add'), 'fa-plus', fixed: true), :domain_names, data: { target: "#domain_names_list" }
